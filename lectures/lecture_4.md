# Лекция 4

## Нормальная форма Хомского

### Df $G \in \textrm{CFG}$ имеет нормальную форму Хомского (ХНФ)

>$G \in G_\lambda$ и $\forall p \in G.P$ (кроме $S \rightarrow \lambda$) $p$ имеет вид $A \rightarrow BC$ или $A \rightarrow a$ для некоторых $A$, $B$ $\in G.\Gamma$ и $a \in \Sigma^*$

### Th О форме Хомского

> $$\forall G \in \textrm{CFG} \,\,\exists G' \textrm{ в ХНФ  } \, : \, G \overset{L}{=} G'$$ (1)

### Df Цикл в грамматике $G$

> Набор правил $A_1 \rightarrow A_2, A_2 \rightarrow A_3, …, A_{k-1} \rightarrow A_k ,A_k \rightarrow A_1 \subset G.P$  — цикл

### Lm о циклах в грамматике (2)

> $\forall G \in \textrm{CFG} \,\,\exists G' \textrm{CFG} \, : \, G \textrm{ не имеет циклов и } G \overset{L}{=} G'$

### Pf 2

> Возьмем некоторую $G = (\Sigma, \Gamma, P, S) \in \textrm{CFG}$. По теореме о $\lambda$-свободных грамматиках мы можем считать, что $G$ уже является $\lambda$-свободной.  
> Рассмотрим граф: его вершины — нетерминалы, а ребра — правила: $J = (\Gamma, \left\{uw \vert (u \rightarrow w) \in P \right\})$.  
> В таком графе нет петель, а циклы в грамматике соответствуют циклам в графе.
> В каждом цикле $C = \left\{A_1, A_2,…, A_n\right\}$ заменим все нетерминалы $A_i$ на некоторый $A_k \in C$ и получим соответствующее правило, которое (вместе с другими правилами, не образующими циклы) и образует необходимую ациклическую грамматику.  
> Путем махания руками показали, что такое преобразование эквивалентно. Полное доказательство есть в ШурЗаме на 93 странице.

### Pf 1

> Приведем алгоритм приведения некоторой КСГ $G$ в ХНФ:
>
>* По теореме о $\lambda$-свободной грамматике можно перейти от $G$ к эквивалентной ей $\lambda$-свободной $G_0$
>* Теперь для каждого правила вида $A \rightarrow \alpha, \, \alpha \neq \lambda$:
>   * Для каждого $b \in \alpha$ введем новый нетерминал $B$
>   * Добавим правило $B \rightarrow b$
>   * Заменим все вхождения $b$ в правых частях всех правил на $B$
>   * Полученную в результате грамматику назовем $G_1$. Очевидно, что такое преобразование будет эквивалентным.
>* Теперь нужно справиться с правилами вида $A \rightarrow A_1 \cdot A_2 \cdot … \cdot A_k, \, k>2$:
