---
math: true
---
# Лекция 7

## Алгоритм Кока-Янгера-Касами

Задача: определить, входит ли слово в язык, порождаемый грамматикой.

Вход: грамматика $G$ в ХНФ, слово $w$.
Выход: да, если $w \in L(G)$, иначе нет.

* Строим треугольную таблицу $T$ размера $n$ на $n$, где $n = \vert w \vert$
* В клетке  $t_{i, j}$ ($i$ — строка) находятся все нетерминалы грамматики, из которых выводится подслово $u$ слова $w$ длины $j$, начинающееся с позиции $i$ — $w[i..i+j-1]$
* Если $S \in t_{1,n}$, то ответ "Да"

$G$ в ХНФ, значит имеет такой вид:
$$(1)\,\, A \rightarrow BC$$  
$$(2)\,\, A \rightarrow \alpha$$  

Заполняем таблицу по столбцам.
Первый столбец таблицы заполняется исходя из правил вида $(2)$: $t_{i,1}$ заполняется теми нетерминалами, из которых выводится $w[i]$.
Каждый следующий столбец заполняется на основе уже заполненных предыдущих:
Если $A \implies B \overset{*}{\implies} w[i..i+j-1] \implies \exists k \in [1, j-1] \, : \, B \in t_{i, k}, C \in t_{i+k, j-k}$.
Таким образом нужно пробежаться по всем $k \in [1, j-1]$ и посмотреть в ячейки $t_{i, k}$ и $t_{i+k, j-k}$. Если в этих ячейках есть такие нетерминалы $B$ и $C$, что существует правило $A \implies BC$, то в $t_{i, j}$ попадает $A$

```ascii
 ---------->T_ij
            +
          +-+
        +-+
      +-+
    +-+
 <--+
```

## Автоматы с магазинной памятью (push down automaton)

### Df МПА

> $$M = \left(\Sigma, \Gamma, Q, \delta, q_0, F, \gamma\right)$$
> где
>
> * $\Sigma$ — основной алфавит
> * $\Gamma$ — стековый алфавит
> * $Q$ — множество состояний
> * $\delta$ — множество команд-переходов $\{p \,\, \vert \, p\,:\,(Q \times \Sigma\times \Gamma) \rightarrow (Q \times \{\_, \rightarrow\} \times \Gamma^*)\}$. При этом на каждом шаге вершина стека всегда снимается.
> * $q_0$ — начальное состояние
> * $F$ — множество конечных состояний
> * $\gamma$ — начальные символы в стеке

### Df МПА $M$ рапознает слово $w$

> $M$ прочитал слово целиком и оказался в состоянии $q \in F$

## Пример

Сперва введем символ конца строки $\dashv$ и символ дна стека $\nabla$. Для дна стека есть исключительное правило — его нельзя снять со стека, но можно читать.
Так же введем символ допуска — $\checkmark$, который показывает, что слово принимается. 

Строится таблица, столбцы — символы $\Sigma$ и конец строки, строки — состояния и символы в стеке.

## Лекция 8


### Df Конфигурация автомата $M = \left(\Sigma, \Gamma, Q, \delta, q_0, F, \gamma\right)$
> $$K = [q, w, \gamma]$$
> где
> * $q \in Q$ — текущее состояние
> * $w \in \Sigma^*$ — остаток входной строки включая обозреваемый символ
> * $\gamma \in \Gamma^*$ — содержимое стека

### Df Отношение выводимости $\vDash$
> $$[q, aw, B\gamma] \vDash [q', w, \gamma'\gamma]$$
> если есть команда $(q, a, B) \rightarrow (q', \rightarrow, \gamma')$
> или 
> $$[q, aw, B\gamma] \vDash [q', aw, \gamma'\gamma]$$
> если есть команда $(q, a, B) \rightarrow (q', \_, \gamma')$

### Df МПА $M$ распознает слово $w$ 

> $[q_0, w, B\gamma] \overset{*}{\vDash} [f, \lambda, \gamma']$

### Df Для МПА $M$ $L(M)$

> $$L(M) = \left\{w\in \Sigma^* \,\vert \, M\textrm{ распознает }w  \right\}$$